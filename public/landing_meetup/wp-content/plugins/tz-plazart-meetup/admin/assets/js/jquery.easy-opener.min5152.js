function createOpener(){jQuery("body").append('<div id="easy-opener-section"><div class="easy-opener-bg"></div><div class="easy-opener-content"></div></div>')}function createVideo(e,a,t,r,o){maxProportion=e/a,elProportion=t/r,elProportion>maxProportion?(finalElW=e,finalElH=Math.ceil(e/t*r)):(finalElH=a,finalElW=Math.ceil(a/r*t));var n=Math.ceil(finalElW/2);jQuery(".easy-opener-content").css({width:finalElW+"px",marginLeft:"-"+n+"px"}),jQuery(".easy-opener-content").html('<a class="easy-opener-close" href="#"></a><iframe src="'+o+'" width="'+t+'" height="'+r+'"></iframe>'),jQuery("#easy-opener-section").fitVids(),jQuery("#easy-opener-section").fadeIn(500,function(){var e=jQuery(document).scrollTop(),a=e+Math.ceil((jQuery(window).height()-finalElH)/2);jQuery(".easy-opener-content").css({top:a+"px"}).delay(1e3).animate({opacity:1},600)})}function createImage(e,a,t){maxProportion=e/a,jQuery(".easy-opener-content").css({width:e+"px",height:a+"px"}),jQuery(".easy-opener-content").html('<a class="easy-opener-close" href="#"></a><img src="'+t+'" />'),jQuery("#easy-opener-section").fadeIn(500,function(){jQuery(".easy-opener-content").css({width:jQuery(".easy-opener-content img").width()+"px",height:jQuery(".easy-opener-content img").height()+"px"});var e=jQuery(document).scrollTop(),t=e+Math.ceil((jQuery(window).height()-a)/2),r=Math.ceil(jQuery(".easy-opener-content img").width()/2);jQuery(".easy-opener-content").css({top:t+"px",marginLeft:"-"+r+"px"}).delay(1e3).animate({opacity:1},600)})}function createNextPrev(e,a,t){var r=-1;jQuery(".easy-opener[data-gallery='"+e+"']").each(function(e){jQuery(this).attr("data-galsort")&&t||jQuery(this).attr("data-galsort",e),r++});var o=jQuery(a).attr("data-galsort");t&&(o=jQuery(a).attr("data-pseudosort"));var n=parseInt(o)+1,i=parseInt(o)-1;0>i&&(i=r),n>r&&(n=0);var s=jQuery(".easy-opener[data-galsort='"+n+"']").data("type");if("video"==s)var y=jQuery(".easy-opener[data-galsort='"+n+"']").data("width"),d=jQuery(".easy-opener[data-galsort='"+n+"']").data("height"),p=jQuery(".easy-opener[data-galsort='"+n+"']").attr("href"),c=jQuery(".easy-opener[data-galsort='"+n+"']").data("galsort"),l='href="'+p+'" data-pseudosort="'+c+'" data-type="video" data-width="'+y+'" data-height="'+d+'" data-gallery="'+e+'"';else if("image"==s||!s)var u=jQuery(".easy-opener[data-galsort='"+n+"']").attr("href"),c=jQuery(".easy-opener[data-galsort='"+n+"']").data("galsort"),l='href="'+u+'" data-pseudosort="'+c+'" data-type="image" data-gallery="'+e+'"';var h=jQuery(".easy-opener[data-galsort='"+i+"']").data("type");if("video"==h)var j=jQuery(".easy-opener[data-galsort='"+i+"']").data("width"),Q=jQuery(".easy-opener[data-galsort='"+i+"']").data("height"),g=jQuery(".easy-opener[data-galsort='"+i+"']").attr("href"),f=jQuery(".easy-opener[data-galsort='"+i+"']").data("galsort"),v='href="'+g+'" data-pseudosort="'+f+'" data-type="video" data-width="'+j+'" data-height="'+Q+'" data-gallery="'+e+'"';else if("image"==h||!h)var m=jQuery(".easy-opener[data-galsort='"+i+"']").attr("href"),f=jQuery(".easy-opener[data-galsort='"+i+"']").data("galsort"),v='href="'+m+'" data-pseudosort="'+f+'" data-type="image" data-gallery="'+e+'"';jQuery(".easy-opener-content").prepend('<a class="easy-opener easy-opener-next" '+l+' data-direction="next"></a>'),jQuery(".easy-opener-content").prepend('<a class="easy-opener easy-opener-prev" '+v+' data-direction="prev"></a>')}jQuery(document).ready(function(e){"use strict";jQuery("body").on("click",".easy-opener",function(){var e=jQuery(this),a=jQuery(window).width(),t=jQuery(window).height(),r=Math.ceil(.6*a),o=Math.ceil(.8*t);760>a&&(r=300);var n=jQuery(this).data("type");n||(n="image");var i=jQuery(this).data("direction"),s=jQuery(this).data("gallery");if(i?jQuery(".easy-opener-content").animate({opacity:0},500,function(){}):createOpener(),"video"==n){var y=jQuery(this).data("width"),d=jQuery(this).data("height"),p=jQuery(this).attr("href");if(!y||!d)return alert("Please enter a data-width AND data-height"),!1;createVideo(r,o,y,d,p)}else if("image"==n){var c=jQuery(this).attr("href");createImage(r,o,c)}return s&&createNextPrev(s,e,i),!1}),jQuery("body").on("click",".easy-opener-close",function(){return jQuery("#easy-opener-section").fadeOut(500,function(){jQuery(".easy-opener-content").html("").animate({opacity:0},50,function(){jQuery("#easy-opener-section").remove()})}),!1})});